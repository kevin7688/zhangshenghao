{"remainingRequest":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_babel-loader@8.4.1@babel-loader\\lib\\index.js!E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\src\\utils\\common.js","dependencies":[{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\src\\utils\\common.js","mtime":1663850397000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\babel.config.js","mtime":1616243766000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_babel-loader@8.4.1@babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.constructor\";\nexport default {\n  set: function set(key, value) {\n    var curTime = new Date().getTime();\n    localStorage.setItem(key, JSON.stringify({\n      data: value,\n      time: curTime\n    }));\n  },\n  get: function get(key) {\n    var data = localStorage.getItem(key);\n    if (data == null) {\n      return null;\n    }\n    var dataObj = JSON.parse(data);\n    if (new Date().getTime() - dataObj.time > 1000 * 60 * 24) {\n      console.log('信息已过期');\n      localStorage.removeItem(key);\n      return null;\n    } else {\n      var dataObjDatatoJson = dataObj.data;\n      return dataObjDatatoJson;\n    }\n  },\n  getUserInfo: function getUserInfo(key) {\n    var data = localStorage.getItem(key);\n    if (data == null) {\n      return null;\n    }\n    var dataObj = JSON.parse(data);\n    if (new Date().getTime() - dataObj.time > 1000 * 60 * 24) {\n      console.log('信息已过期');\n      localStorage.removeItem(key);\n      return null;\n    } else {\n      var dataObjDatatoJson = JSON.parse(dataObj.data);\n      return dataObjDatatoJson;\n    }\n  },\n  remove: function remove(key) {\n    var data = this.source,\n      value = data[key];\n    delete data[key];\n    delete data[\"\".concat(key, \"__expires__\")];\n    return value;\n  },\n  initRun: function initRun() {\n    var _this = this;\n    /*\r\n       * set 存储方法\r\n       * @ param {String} \tkey 键\r\n       * @ param {String} \tvalue 值，存储的值可能是数组/对象，不能直接存储，需要转换 JSON.stringify\r\n       * @ param {String} \texpired 过期时间，以分钟为单位\r\n       * @ 由@IT·平头哥联盟-首席填坑官∙苏南 分享\r\n       */\n    var reg = new RegExp(\"__expires__\");\n    var data = this.source;\n    var list = Object.keys(data);\n    if (list.length > 0) {\n      list.map(function (key, v) {\n        if (!reg.test(key)) {\n          var now = Date.now();\n          var expires = data[\"\".concat(key, \"__expires__\")] || Date.now + 1;\n          if (now >= expires) {\n            _this.remove(key);\n          }\n          ;\n        }\n        ;\n        return key;\n      });\n    }\n    ;\n  }\n};",{"version":3,"names":["set","key","value","curTime","Date","getTime","localStorage","setItem","JSON","stringify","data","time","get","getItem","dataObj","parse","console","log","removeItem","dataObjDatatoJson","getUserInfo","remove","source","concat","initRun","_this","reg","RegExp","list","Object","keys","length","map","v","test","now","expires"],"sources":["E:/javaweb/2/源码+数据库+导入视频/源码+数据库+导入视频/源码/front2025/src/utils/common.js"],"sourcesContent":["export default {\r\n\r\n\r\n    set(key,value){\r\n        var curTime = new Date().getTime();\r\n        localStorage.setItem(key,JSON.stringify({data:value,time:curTime}));\r\n    },\r\n\r\n    get(key){\r\n        var data = localStorage.getItem(key);\r\n        if(data==null){\r\n            return null;\r\n        }\r\n        var dataObj = JSON.parse(data);\r\n        if (new Date().getTime() - dataObj.time>1000*60*24) {\r\n            console.log('信息已过期');\r\n            localStorage.removeItem(key);\r\n            return null;\r\n        }else{\r\n            var dataObjDatatoJson = dataObj.data;\r\n            return dataObjDatatoJson;\r\n        }\r\n     },\r\n    getUserInfo(key){\r\n        var data = localStorage.getItem(key);\r\n        if(data==null){\r\n            return null;\r\n        }\r\n        var dataObj = JSON.parse(data);\r\n        if (new Date().getTime() - dataObj.time>1000*60*24) {\r\n            console.log('信息已过期');\r\n            localStorage.removeItem(key);\r\n            return null;\r\n        }else{\r\n            var dataObjDatatoJson = JSON.parse(dataObj.data);\r\n            return dataObjDatatoJson;\r\n        }\r\n    },\r\n\r\n    remove(key) {\r\n        const data = this.source,\r\n            value = data[key];\r\n        delete data[key];\r\n        delete data[`${key}__expires__`];\r\n        return value;\r\n    },\r\n\r\n\r\n\r\n    initRun() {\r\n        /*\r\n           * set 存储方法\r\n           * @ param {String} \tkey 键\r\n           * @ param {String} \tvalue 值，存储的值可能是数组/对象，不能直接存储，需要转换 JSON.stringify\r\n           * @ param {String} \texpired 过期时间，以分钟为单位\r\n           * @ 由@IT·平头哥联盟-首席填坑官∙苏南 分享\r\n           */\r\n        const reg = new RegExp(\"__expires__\");\r\n        let data = this.source;\r\n        let list = Object.keys(data);\r\n        if(list.length > 0){\r\n            list.map((key,v)=>{\r\n                if( !reg.test(key )){\r\n                    let now = Date.now();\r\n                    let expires = data[`${key}__expires__`]||Date.now+1;\r\n                    if (now >= expires ) {\r\n                        this.remove(key);\r\n                    };\r\n                };\r\n                return key;\r\n            });\r\n        };\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]}]}