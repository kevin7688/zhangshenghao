{"remainingRequest":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_babel-loader@8.4.1@babel-loader\\lib\\index.js!E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\src\\utils\\request.js","dependencies":[{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\src\\utils\\request.js","mtime":1734173364000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\babel.config.js","mtime":1616243766000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_babel-loader@8.4.1@babel-loader\\lib\\index.js","mtime":456789000000}],"contextDependencies":[],"result":["import axios from 'axios';\nimport router from '@/router/index.js';\nimport common from \"./common\";\nimport Vue from 'vue'; // 引入vue\nvar vm = new Vue(); // 实例化\n\nvar service = axios.create({\n  timeout: 5000\n});\nservice.interceptors.request.use(function (config) {\n  return config;\n}, function (error) {\n  console.log(error);\n  return Promise.reject();\n});\n\n// request 拦截器\n// 可以自请求发送前对请求做一些处理\n// 比如统一加token，对请求参数统一加密\nservice.interceptors.request.use(function (config) {\n  var token = common.get('token');\n  if (token) {\n    config.headers['token'] = token; // 设置请求头\n  }\n  return config;\n}, function (error) {\n  return Promise.reject(error);\n});\nservice.interceptors.response.use(function (response) {\n  if (response.data && response.data.code === -1) {\n    // token有问题\n    //vm.$message.error(response.data.msg);\n    localStorage.clear();\n    router.push('/login');\n    return response;\n  }\n  if (response.status === 200) {\n    return response;\n  } else {\n    Promise.reject(); //返回一个带有拒绝原因的Promise对象。\n  }\n}, function (error) {\n  console.log(error);\n  return Promise.reject();\n});\nexport default service;",{"version":3,"names":["axios","router","common","Vue","vm","service","create","timeout","interceptors","request","use","config","error","console","log","Promise","reject","token","get","headers","response","data","code","localStorage","clear","push","status"],"sources":["E:/javaweb/2/源码+数据库+导入视频/源码+数据库+导入视频/源码/front2025/src/utils/request.js"],"sourcesContent":["import axios from 'axios';\nimport router from '@/router/index.js';\nimport common from './common';\nimport Vue from 'vue'; // 引入vue\nvar vm = new Vue(); // 实例化\n\nconst service = axios.create({\n    timeout: 5000\n});\n\nservice.interceptors.request.use(\n    config => {\n        return config;\n    },\n    error => {\n        console.log(error);\n        return Promise.reject();\n    }\n);\n\n// request 拦截器\n// 可以自请求发送前对请求做一些处理\n// 比如统一加token，对请求参数统一加密\nservice.interceptors.request.use(config => {\n    let token = common.get('token');\n    if (token) {\n        config.headers['token'] = token;  // 设置请求头\n    }\n    return config\n}, error => {\n    return Promise.reject(error)\n});\n\n\n\nservice.interceptors.response.use(\n    response => {\n        if (response.data && response.data.code === -1) { // token有问题\n            //vm.$message.error(response.data.msg);\n            localStorage.clear();\n            router.push('/login');\n            return response;\n        }\n        if (response.status === 200) {\n            return response;\n        } else {\n            Promise.reject();//返回一个带有拒绝原因的Promise对象。\n        }\n    },\n    error => {\n        console.log(error);\n        return Promise.reject();\n    }\n);\n\nexport default service;\n\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,MAAM;AACb,OAAOC,GAAG,MAAM,KAAK,CAAC,CAAC;AACvB,IAAIC,EAAE,GAAG,IAAID,GAAG,CAAC,CAAC,CAAC,CAAC;;AAEpB,IAAME,OAAO,GAAGL,KAAK,CAACM,MAAM,CAAC;EACzBC,OAAO,EAAE;AACb,CAAC,CAAC;AAEFF,OAAO,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAC5B,UAAAC,MAAM,EAAI;EACN,OAAOA,MAAM;AACjB,CAAC,EACD,UAAAC,KAAK,EAAI;EACLC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAClB,OAAOG,OAAO,CAACC,MAAM,CAAC,CAAC;AAC3B,CACJ,CAAC;;AAED;AACA;AACA;AACAX,OAAO,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAAC,MAAM,EAAI;EACvC,IAAIM,KAAK,GAAGf,MAAM,CAACgB,GAAG,CAAC,OAAO,CAAC;EAC/B,IAAID,KAAK,EAAE;IACPN,MAAM,CAACQ,OAAO,CAAC,OAAO,CAAC,GAAGF,KAAK,CAAC,CAAE;EACtC;EACA,OAAON,MAAM;AACjB,CAAC,EAAE,UAAAC,KAAK,EAAI;EACR,OAAOG,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AAChC,CAAC,CAAC;AAIFP,OAAO,CAACG,YAAY,CAACY,QAAQ,CAACV,GAAG,CAC7B,UAAAU,QAAQ,EAAI;EACR,IAAIA,QAAQ,CAACC,IAAI,IAAID,QAAQ,CAACC,IAAI,CAACC,IAAI,KAAK,CAAC,CAAC,EAAE;IAAE;IAC9C;IACAC,YAAY,CAACC,KAAK,CAAC,CAAC;IACpBvB,MAAM,CAACwB,IAAI,CAAC,QAAQ,CAAC;IACrB,OAAOL,QAAQ;EACnB;EACA,IAAIA,QAAQ,CAACM,MAAM,KAAK,GAAG,EAAE;IACzB,OAAON,QAAQ;EACnB,CAAC,MAAM;IACHL,OAAO,CAACC,MAAM,CAAC,CAAC,CAAC;EACrB;AACJ,CAAC,EACD,UAAAJ,KAAK,EAAI;EACLC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EAClB,OAAOG,OAAO,CAACC,MAAM,CAAC,CAAC;AAC3B,CACJ,CAAC;AAED,eAAeX,OAAO","ignoreList":[]}]}