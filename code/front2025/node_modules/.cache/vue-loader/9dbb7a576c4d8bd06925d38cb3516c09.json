{"remainingRequest":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_vue-loader@15.11.1@vue-loader\\lib\\index.js??vue-loader-options!E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\src\\components\\page\\admin\\OrderItemList.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\src\\components\\page\\admin\\OrderItemList.vue","mtime":1761791483845},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_babel-loader@8.4.1@babel-loader\\lib\\index.js","mtime":456789000000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_vue-loader@15.11.1@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\nimport { isIntNumer,isMoney } from '../../../utils/checkForm'\nexport default {\n  name: \"OrderItem\",\n  data() {\n      var validateIntNumber = (rule, value, callback) => {\n             if(!value){\n                callback();\n             } else if (!isIntNumer(value)) {\n                callback(new Error(\"정수를 입력하세요\"));\n             } else {\n                callback();\n             }\n       };\n      var validateMoney = (rule, value, callback) => {\n             if(!value){\n                callback();\n             } else if (!isMoney(value)) {\n                callback(new Error(\"올바른 금액을 입력하세요\"));\n             } else {\n                callback();\n             }\n       };\n    return {\n        query: {},\n        dialogName: '', \n        tableData: [],\n        currentPage: 1,\n        pagesize: 10,\n        totalCount: 0,\n        dialogVisible: false,\n        form: {},\n        rules: {\n          oid: [\n              { required: true, message: '주문을 입력하세요', trigger: 'blur' },\n          ],\n          gid: [\n              { required: true, message: '상품을 입력하세요', trigger: 'blur' },\n          ],\n          num: [\n              { required: true, message: '수량을 입력하세요', trigger: 'blur' },\n              { validator: validateIntNumber, trigger: 'blur'},\n          ],\n          money: [\n              { required: true, message: '금액을 입력하세요', trigger: 'blur' },\n              { validator: validateMoney, trigger: 'blur'},\n          ],\n        },\n        type:'',\n        userInfo:{},\n    };\n  },\n  created() {\n      this.type = this.common.get('type');\n      this.userInfo = this.common.getUserInfo('userInfo');\n      if(this.userInfo===null){\n         this.$router.push('/');\n      }\n      this.getData();\n  },\n  methods: {\n    handleSizeChange(val) {\n        this.pagesize = val;\n        this.getData();\n    },\n    handleCurrentChange(val) {\n        this.currentPage = val;\n        this.getData();\n    },\n    getData() {\n        var param = {\n            oid: this.query.oid, \n            pagesize: this.pagesize,\n            currentPage: this.currentPage,\n        };\n        this.$axios.post('/api/order_item/selectPage',param).then(res => {\n            if(res.data.code == 200){\n                this.tableData = res.data.data.list;\n                this.totalCount = res.data.data.total;\n            } else {\n                this.$message.warning(res.data.msg);\n            }\n        });\n    },\n    handleEdit(index, row) {\n        this.form = JSON.parse(JSON.stringify(row));\n        this.dialogVisible = true;\n        this.$refs['ruleForm'].clearValidate();\n        this.dialogName = \"주문 항목 수정\";\n    },\n    handleAdd() {\n        if (this.$refs.rulform !== undefined) this.$refs.rulform.resetFields();\n        this.dialogVisible = true;\n        this.form = {};\n        this.$refs['ruleForm'].clearValidate();\n        this.dialogName = \"주문 항목 추가\";\n    },\n    save(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.$axios.post(this.form.id?'/api/orderItem/edit' : '/api/orderItem/add', this.form).then(res => {\n              if(res.data.code == 200){\n                this.$message.success(res.data.msg);\n                this.dialogVisible = false;\n                this.getData();\n              } else {\n                this.$message.warning(res.data.msg);\n              }\n            })\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n    },\n    handleDelete(index, row) {\n        this.$confirm('정말 삭제하시겠습니까?', '알림', {\n           type: 'warning'\n        }).then(() => {\n             this.$axios.get('/api/orderItem/deleteById?id='+row.id).then(res => {\n                if(res.data.code == 200){\n                    this.$message.success(res.data.msg);\n                    this.tableData.splice(index, 1);\n                    this.getData();\n                }else{\n                  this.$message.warning(res.data.msg);\n                }\n          });\n        }).catch(() => {});\n    },\n  }\n}\n",{"version":3,"sources":["OrderItemList.vue"],"names":[],"mappings":";AA8DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderItemList.vue","sourceRoot":"src/components/page/admin","sourcesContent":["<template>\n  <div>\n    <div class=\"container\">\n      <div class=\"handle-box\">\n         <el-input v-model=\"query.oid\" placeholder=\"주문 선택\" class=\"handle-input mr10\"></el-input>\n         <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"getData\">검색</el-button>\n         <el-button type=\"primary\" icon=\"el-icon-plus\" @click=\"handleAdd\">추가</el-button>\n      </div>\n      <el-table :data=\"tableData\" border class=\"table\" ref=\"multipleTable\" header-cell-class-name=\"table-header\" >\n        <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"ordersNo\" label=\"주문 번호\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"goodsName\" label=\"상품명\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"num\" label=\"수량\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"money\" label=\"금액\" align=\"center\"></el-table-column>\n        <el-table-column prop=\"createTime\" label=\"생성 시간\" align=\"center\"></el-table-column>\n        <el-table-column label=\"작업\" align=\"center\" width=\"260\" >\n          <template slot-scope=\"scope\">\n            <el-button  type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"handleEdit(scope.$index, scope.row)\">수정</el-button>\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" @click=\"handleDelete(scope.$index, scope.row)\">삭제</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div align=\"center\">\n        <el-pagination\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n            :current-page=\"currentPage\"\n            :page-sizes=\"[10, 20, 30, 40]\"\n            :page-size=\"pagesize\"\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :total=\"totalCount\">\n        </el-pagination>\n      </div>\n    </div>\n\n    <!-- 팝업창 -->\n    <el-dialog :title=\"dialogName\" :visible.sync=\"dialogVisible\" width=\"35%\">\n        <el-form ref=\"ruleForm\" :model=\"form\" :rules=\"rules\" label-width=\"90px\">\n        <el-form-item label=\"주문\" prop=\"oid\">\n            <el-input v-model=\"form.oid\" placeholder=\"주문\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"상품\" prop=\"gid\">\n            <el-input v-model=\"form.gid\" placeholder=\"상품\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"수량\" prop=\"num\">\n            <el-input type='number' oninput=\"if(value<0)value=0\" v-model=\"form.num\" placeholder=\"수량\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"금액\" prop=\"money\">\n            <el-input v-model=\"form.money\" placeholder=\"금액\"></el-input>\n        </el-form-item>\n      </el-form>\n       <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">취소</el-button>\n        <el-button type=\"primary\" @click=\"save('ruleForm')\">확인</el-button>\n      </span>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport { isIntNumer,isMoney } from '../../../utils/checkForm'\nexport default {\n  name: \"OrderItem\",\n  data() {\n      var validateIntNumber = (rule, value, callback) => {\n             if(!value){\n                callback();\n             } else if (!isIntNumer(value)) {\n                callback(new Error(\"정수를 입력하세요\"));\n             } else {\n                callback();\n             }\n       };\n      var validateMoney = (rule, value, callback) => {\n             if(!value){\n                callback();\n             } else if (!isMoney(value)) {\n                callback(new Error(\"올바른 금액을 입력하세요\"));\n             } else {\n                callback();\n             }\n       };\n    return {\n        query: {},\n        dialogName: '', \n        tableData: [],\n        currentPage: 1,\n        pagesize: 10,\n        totalCount: 0,\n        dialogVisible: false,\n        form: {},\n        rules: {\n          oid: [\n              { required: true, message: '주문을 입력하세요', trigger: 'blur' },\n          ],\n          gid: [\n              { required: true, message: '상품을 입력하세요', trigger: 'blur' },\n          ],\n          num: [\n              { required: true, message: '수량을 입력하세요', trigger: 'blur' },\n              { validator: validateIntNumber, trigger: 'blur'},\n          ],\n          money: [\n              { required: true, message: '금액을 입력하세요', trigger: 'blur' },\n              { validator: validateMoney, trigger: 'blur'},\n          ],\n        },\n        type:'',\n        userInfo:{},\n    };\n  },\n  created() {\n      this.type = this.common.get('type');\n      this.userInfo = this.common.getUserInfo('userInfo');\n      if(this.userInfo===null){\n         this.$router.push('/');\n      }\n      this.getData();\n  },\n  methods: {\n    handleSizeChange(val) {\n        this.pagesize = val;\n        this.getData();\n    },\n    handleCurrentChange(val) {\n        this.currentPage = val;\n        this.getData();\n    },\n    getData() {\n        var param = {\n            oid: this.query.oid, \n            pagesize: this.pagesize,\n            currentPage: this.currentPage,\n        };\n        this.$axios.post('/api/order_item/selectPage',param).then(res => {\n            if(res.data.code == 200){\n                this.tableData = res.data.data.list;\n                this.totalCount = res.data.data.total;\n            } else {\n                this.$message.warning(res.data.msg);\n            }\n        });\n    },\n    handleEdit(index, row) {\n        this.form = JSON.parse(JSON.stringify(row));\n        this.dialogVisible = true;\n        this.$refs['ruleForm'].clearValidate();\n        this.dialogName = \"주문 항목 수정\";\n    },\n    handleAdd() {\n        if (this.$refs.rulform !== undefined) this.$refs.rulform.resetFields();\n        this.dialogVisible = true;\n        this.form = {};\n        this.$refs['ruleForm'].clearValidate();\n        this.dialogName = \"주문 항목 추가\";\n    },\n    save(formName) {\n        this.$refs[formName].validate((valid) => {\n          if (valid) {\n            this.$axios.post(this.form.id?'/api/orderItem/edit' : '/api/orderItem/add', this.form).then(res => {\n              if(res.data.code == 200){\n                this.$message.success(res.data.msg);\n                this.dialogVisible = false;\n                this.getData();\n              } else {\n                this.$message.warning(res.data.msg);\n              }\n            })\n          } else {\n            console.log('error submit!!');\n            return false;\n          }\n        });\n    },\n    handleDelete(index, row) {\n        this.$confirm('정말 삭제하시겠습니까?', '알림', {\n           type: 'warning'\n        }).then(() => {\n             this.$axios.get('/api/orderItem/deleteById?id='+row.id).then(res => {\n                if(res.data.code == 200){\n                    this.$message.success(res.data.msg);\n                    this.tableData.splice(index, 1);\n                    this.getData();\n                }else{\n                  this.$message.warning(res.data.msg);\n                }\n          });\n        }).catch(() => {});\n    },\n  }\n}\n</script>\n\n\n<style scoped>\n    .handle-box {\n         margin-bottom: 20px;\n     }\n    .handle-input {\n         width: 300px;\n         display: inline-block;\n     }\n    .table {\n         width: 100%;\n         font-size: 14px;\n     }\n    .mr10 {\n         margin-right: 10px;\n     }\n    .table-td-thumb {\n         display: block;\n         margin: auto;\n         width: 40px;\n         height: 40px;\n     }\n    .avatar-uploader .el-upload {\n         border: 1px dashed #d9d9d9;\n         border-radius: 6px;\n         cursor: pointer;\n         position: relative;\n         overflow: hidden;\n     }\n    .avatar-uploader .el-upload:hover {\n         border-color: #eeab1e;\n     }\n    .avatar-uploader-icon {\n         font-size: 28px;\n         color: #8c939d;\n         width: 178px;\n         height: 178px;\n         line-height: 178px;\n         text-align: center;\n     }\n    .avatar {\n         width: 100% !important;\n         height: 178px;\n         display: block;\n     }\n    .video-js .vjs-icon-placeholder {\n         width: 80%;\n         height: 80%;\n         display: block;\n     }\n    ::v-deep .el-upload--text{\n         width: 100px !important;\n         height: 100px !important;\n     }\n    .avatar-uploader-icon {\n         font-size: 28px;\n         color: #8c939d;\n         width: 100px;\n         height: 100px;\n         line-height: 100px;\n         text-align: center;\n     }\n    .avatar {\n         width: 100px !important;\n         height: 100px;\n         display: block;\n     }\n\n</style>"]}]}