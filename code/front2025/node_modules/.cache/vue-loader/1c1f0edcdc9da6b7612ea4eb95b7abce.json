{"remainingRequest":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_vue-loader@15.11.1@vue-loader\\lib\\index.js??vue-loader-options!E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\src\\components\\common\\admin\\Header.vue?vue&type=style&index=0&id=38bf1e9e&scoped=true&lang=css","dependencies":[{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\src\\components\\common\\admin\\Header.vue","mtime":1761790004256},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_css-loader@1.0.1@css-loader\\index.js","mtime":499162500000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_vue-loader@15.11.1@vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_postcss-loader@3.0.0@postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_cache-loader@2.0.1@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\javaweb\\2\\源码+数据库+导入视频\\源码+数据库+导入视频\\源码\\front2025\\node_modules\\_vue-loader@15.11.1@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n.header {\n    position: relative;\n    box-sizing: border-box;\n    width: 100%;\n    height: 46px;\n    font-size: 22px;\n    color: #fff;\n    background-color: #f3c3cc;\n}\n\n.collapse-btn {\n    float: left;\n    padding: 0 21px;\n    cursor: pointer;\n    line-height: 50px;\n}\n\n.header .logo {\n    float: left;\n    width: 250px;\n    line-height: 50px;\n    font-size: 16px;\n}\n\n.header-right {\n    float: right;\n    padding-right: 50px;\n}\n\n.header-user-con {\n    display: flex;\n    height: 48px;\n    align-items: center;\n}\n.collapse-btn:hover{\n    background: rgb(18 98 219);\n}\n.btn-fullscreen {\n    transform: rotate(45deg);\n    margin-right: 5px;\n    font-size: 24px;\n}\n\n.btn-bell,\n.btn-fullscreen {\n    position: relative;\n    width: 30px;\n    height: 30px;\n    text-align: center;\n    border-radius: 15px;\n    cursor: pointer;\n}\n\n.btn-bell-badge {\n    position: absolute;\n    right: 0;\n    top: -2px;\n    width: 8px;\n    height: 8px;\n    border-radius: 4px;\n    background: #f56c6c;\n    color: #fff;\n}\n\n.btn-bell .el-icon-bell {\n    color: #fff;\n}\n\n.user-name {\n    margin-left: 10px;\n}\n\n.user-avator {\n    margin-left: 20px;\n}\n\n.user-avator img {\n    display: block;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n}\n\n.el-dropdown-link {\n    color: #fff;\n    cursor: pointer;\n}\n\n.el-dropdown-menu__item {\n    text-align: center;\n}\n\n\n.avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n    border-color: #f3c3cc;\n}\n.avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 178px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n}\n.avatar {\n    width: 100% !important;\n    height: 178px;\n    display: block;\n}\n\n.video-js .vjs-icon-placeholder {\n    width: 80%;\n    height: 80%;\n    display: block;\n}\n\n::v-deep .el-upload--text{\n    width: 100px !important;\n    height: 100px !important;\n}\n.avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 100px;\n    height: 100px;\n    line-height: 100px;\n    text-align: center;\n}\n.avatar {\n    width: 100px !important;\n    height: 100px;\n    display: block;\n}\n",{"version":3,"sources":["Header.vue"],"names":[],"mappings":";AAsbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components/common/admin","sourcesContent":["<template>\n    <div class=\"header\">\n        <!-- 접기 버튼 -->\n        <div class=\"collapse-btn\" @click=\"collapseChage\">\n            <i v-if=\"!collapse\" class=\"el-icon-s-operation\"></i>\n            <i v-else class=\"el-icon-s-home\"></i>\n        </div>\n        <div class=\"logo\">패션 스타일 커뮤니티</div>\n        <div class=\"header-right\">\n            <div class=\"header-user-con\">\n                <div @click=\"goIndex\" style=\"font-size: small;margin-right: 25px;cursor: pointer;\">\n                    홈으로 돌아가기\n                </div>\n                <el-dropdown class=\"user-name\" trigger=\"click\" @command=\"handleCommand\">\n                    <span class=\"el-dropdown-link\">\n                        <span v-if=\"userType=='01'\">관리자: {{userInfo.username}}</span>\n                        <span v-if=\"userType=='02'\">사용자: {{userInfo.realname}}</span>\n                        <i class=\"el-icon-caret-bottom\"></i>\n                    </span>\n                    <el-dropdown-menu slot=\"dropdown\">\n                        <el-dropdown-item divided command=\"query\" v-if=\"userType!=='01'\">개인 정보</el-dropdown-item>\n                        <el-dropdown-item divided command=\"update\" v-if=\"userType!=='01'\">정보 수정</el-dropdown-item>\n                        <el-dropdown-item divided command=\"password\">비밀번호 변경</el-dropdown-item>\n                        <el-dropdown-item divided command=\"loginout\">로그아웃</el-dropdown-item>\n                    </el-dropdown-menu>\n                </el-dropdown>\n            </div>\n        </div>\n\n        <!-- 개인 정보 보기 -->\n        <el-dialog\n            title=\"개인 정보\"\n            :visible.sync=\"dialogVisible\"\n            width=\"40%\"\n            :before-close=\"handleClose\">\n            <el-form ref=\"ruleForm\" :model=\"form\" :rules=\"rules\" label-width=\"120px\">\n                <el-form-item label=\"프로필 사진\" prop=\"realname\">\n                    <img :src=\"form.image\"  class=\"avatar\">\n                </el-form-item>\n                <el-form-item label=\"이름\" prop=\"realname\">\n                    {{form.realname}}\n                </el-form-item>\n                <el-form-item label=\"휴대폰 번호\" prop=\"phone\">\n                    {{form.phone}}\n                </el-form-item>\n                <el-form-item label=\"성별\" prop=\"sex\">\n                    {{form.sex}}\n                </el-form-item>\n                <el-form-item label=\"나이\" prop=\"age\">\n                    {{form.age}}\n                </el-form-item>\n                <el-form-item label=\"주소\" prop=\"address\">\n                    {{form.address}}\n                </el-form-item>\n                <el-form-item label=\"가입일\" prop=\"age\">\n                    {{form.createTime}}\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button type=\"primary\" @click=\"dialogVisible = false\">닫기</el-button>\n            </span>\n        </el-dialog>\n\n        <!-- 정보 수정 -->\n        <el-dialog\n            title=\"정보 수정\"\n            :visible.sync=\"eformVisible\"\n            width=\"40%\"\n            :before-close=\"handleClose2\">\n            <el-form ref=\"ruleForm\" :model=\"eform\" :rules=\"rules\" label-width=\"120px\">\n                <el-form-item label=\"프로필 사진\" prop=\"image\">\n                    <el-upload\n                        class=\"avatar-uploader\"\n                        action=\"mty\"\n                        :show-file-list=\"false\"\n                        :http-request=\"httpRequest\">\n                        <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                    </el-upload>\n                    <el-input type=\"hidden\" v-model=\"eform.image\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"휴대폰 번호\" prop=\"phone\">\n                    <el-input v-model=\"eform.phone\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"이름\" prop=\"realname\">\n                    <el-input v-model=\"eform.realname\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"성별\" prop=\"sex\">\n                    <el-select v-model=\"eform.sex\" placeholder=\"성별 선택\">\n                        <el-option label=\"남\" value=\"남\"></el-option>\n                        <el-option label=\"여\" value=\"여\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"나이\" prop=\"age\">\n                    <el-input v-model=\"eform.age\" type='number' oninput=\"if(value<0)value=0\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"주소\" prop=\"address\">\n                    <el-input v-model=\"eform.address\"></el-input>\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"eformVisible = false\">취소</el-button>\n                <el-button type=\"primary\" @click=\"saveEdit('ruleForm')\">확인</el-button>\n            </span>\n        </el-dialog>\n\n        <!-- 비밀번호 변경 -->\n        <el-dialog\n            title=\"비밀번호 변경\"\n            :visible.sync=\"pVisible\"\n            width=\"40%\"\n            :before-close=\"handleClose3\">\n            <el-form ref=\"ruleForm\" :model=\"pform\" :rules=\"rules\" label-width=\"120px\">\n                <el-form-item label=\"현재 비밀번호\" prop=\"password\">\n                    <el-input v-model=\"pform.password\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"새 비밀번호\" prop=\"newpassword\">\n                    <el-input v-model=\"pform.newpassword\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"비밀번호 확인\" prop=\"repassword\">\n                    <el-input v-model=\"pform.repassword\"></el-input>\n                </el-form-item>\n            </el-form>\n            <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"pVisible = false\">취소</el-button>\n                <el-button type=\"primary\" @click=\"updatePad('ruleForm')\">확인</el-button>\n            </span>\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    import bus from './bus';\n    import common from \"../../../utils/common\";\n    import { isMobile } from '../../../utils/checkForm'\n    export default {\n        data() {\n            var validateMobile = (rule, value, callback) => {\n             if(!value){\n                callback();\n             } else if (!isMobile(value)) {\n                callback(new Error(\"올바른 휴대폰 번호를 입력하세요\"));\n             } else {\n                callback();\n             }\n       };\n            return {\n                collapse: false,\n                fullscreen: false,\n                name: '로그인되지 않음',\n                userType:'',\n                userInfo:{},\n                message: 2,\n                dialogVisible:false,\n                form:{},\n                eformVisible:false,\n                eform:{},\n                pVisible:false,\n                pform:{},\n                imageUrl:'',\n                rules: {\n                    phone: [\n                        { required: true, message: '휴대폰 번호를 입력하세요', trigger: 'blur' },\n                        { validator: validateMobile, trigger: 'blur'},\n                    ],\n                    realname: [\n                        { required: true, message: '이름을 입력하세요', trigger: 'blur' }\n                    ],\n                    sex: [\n                        { required: true, message: '성별을 선택하세요', trigger: 'blur' }\n                    ],\n                    age: [\n                        { required: true, message: '나이를 선택하세요', trigger: 'blur' }\n                    ],\n                    password: [\n                        { required: true, message: '비밀번호를 입력하세요', trigger: 'blur' },\n                        { min: 6, max: 20, message: '비밀번호 길이는 6~20자여야 합니다', trigger: 'blur' }\n                    ],\n                    newpassword: [\n                        { required: true, message: '새 비밀번호를 입력하세요', trigger: 'blur' },\n                        { min: 6, max: 20, message: '비밀번호 길이는 6~20자여야 합니다', trigger: 'blur' }\n                    ],\n                    repassword: [\n                        { required: true, message: '비밀번호 확인을 입력하세요', trigger: 'blur' },\n                        { min: 6, max: 20, message: '비밀번호 길이는 6~20자여야 합니다', trigger: 'blur' }\n                    ],\n                },\n            };\n        },\n        created() {\n            this.userInfo = this.common.getUserInfo('userInfo');\n            this.userType = this.common.get('type');\n            if(this.userInfo==null){\n                this.$message.error('로그인이 만료되었습니다. 다시 로그인하세요!');\n            }else{\n                this.form = this.userInfo;\n                this.eform = this.userInfo;\n            }\n        },\n        methods: {\n            // 이미지 업로드 기능 구현\n            httpRequest(item) {\n                const isJPG = item.file.type == 'image/jpeg' || item.file.type == 'image/png' || item.file.type == 'image/jpg';\n                const isLt2M = item.file.size / 1024 / 1024 < 2;\n                if (!isJPG) {\n                    this.$message.error('이미지는 JPG 또는 PNG 형식만 가능합니다!');\n                }\n                if (!isLt2M) {\n                    this.$message.error('이미지 크기는 2MB를 초과할 수 없습니다!');\n                }\n                if (isJPG && isLt2M == true) {\n                    let App = this;\n                    let mf = new FormData();\n                    mf.append('file', item.file);\n                    this.$axios.post('/api/file/imgUpload',mf).then(res => {\n                        if (res.data.code==200) {\n                            this.$message.success({\n                                title: '알림',\n                                message: res.data.msg,\n                            });\n                            App.imageUrl =res.data.data;\n                            App.eform.image = res.data.data;\n                        } else {\n                            this.$message.error({title: '알림',message: res.data.msg});\n                        }\n                    });\n                }\n            },\n            handleClose(){ this.dialogVisible = false; },\n            handleClose2(){ this.eformVisible = false; },\n            handleClose3(){ this.pVisible = false; },\n            goIndex(){ this.$router.push('/user/helloHome'); },\n            handleCommand(command) {\n                if (command == 'loginout') {\n                    localStorage.clear();\n                    this.$router.push('/');\n                }\n                if (command == 'query') { this.dialogVisible = true; }\n                if (command == 'update') { this.eformVisible = true; this.imageUrl = this.form.image }\n                if (command == 'password') { if (this.$refs.ruleForm !== undefined) this.$refs.ruleForm.resetFields(); this.pVisible = true; }\n            },\n            saveEdit(formName) {\n                this.eform.type = this.userType;\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        this.$axios.post('/api/updateUser', this.eform).then(res => {\n                            if(res.data.code == 200){\n                                this.$message.success(\"수정 성공\");\n                                localStorage.removeItem(\"userInfo\");\n                                localStorage.removeItem(\"token\");\n                                this.common.set('userInfo',JSON.stringify(res.data.data));\n                                this.common.set('token',res.data.data.token);\n                                this.eformVisible = false;\n                            }else{\n                                this.$message.warning(res.msg);\n                            }\n                        })\n                    } else { console.log('error submit!!'); return false; }\n                });\n            },\n            updatePad(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        if(this.pform.password != this.userInfo.password){\n                            this.$message.warning(\"현재 비밀번호가 틀렸습니다\");\n                            return;\n                        }\n                        if(this.pform.newpassword != this.pform.repassword){\n                            this.$message.warning(\"비밀번호가 일치하지 않습니다\");\n                            return;\n                        }\n                        this.pVisible = false;\n                        this.pform.id = this.userInfo.id;\n                        this.pform.password = this.pform.newpassword;\n                        this.pform.type = this.userType;\n                        this.$axios.post('/api/updateUser', this.pform).then(res => {\n                            if(res.data.code == 200){\n                                this.$message.success(\"수정 성공\");\n                                localStorage.removeItem(\"userInfo\");\n                                localStorage.removeItem(\"token\");\n                                this.common.set('userInfo',JSON.stringify(res.data.data));\n                                this.common.set('token',res.data.data.token);\n                            }else{ this.$message.warning(res.msg); }\n                        })\n                    } else { console.log('error submit!!'); return false; }\n                });\n            },\n            // 사이드바 접기\n            collapseChage() { this.collapse = !this.collapse; bus.$emit('collapse', this.collapse); },\n        },\n        mounted() {\n            if (document.body.clientWidth < 1500) { this.collapseChage(); }\n        }\n    };\n</script>\n<style scoped>\n    .header {\n        position: relative;\n        box-sizing: border-box;\n        width: 100%;\n        height: 46px;\n        font-size: 22px;\n        color: #fff;\n        background-color: #f3c3cc;\n    }\n\n    .collapse-btn {\n        float: left;\n        padding: 0 21px;\n        cursor: pointer;\n        line-height: 50px;\n    }\n\n    .header .logo {\n        float: left;\n        width: 250px;\n        line-height: 50px;\n        font-size: 16px;\n    }\n\n    .header-right {\n        float: right;\n        padding-right: 50px;\n    }\n\n    .header-user-con {\n        display: flex;\n        height: 48px;\n        align-items: center;\n    }\n    .collapse-btn:hover{\n        background: rgb(18 98 219);\n    }\n    .btn-fullscreen {\n        transform: rotate(45deg);\n        margin-right: 5px;\n        font-size: 24px;\n    }\n\n    .btn-bell,\n    .btn-fullscreen {\n        position: relative;\n        width: 30px;\n        height: 30px;\n        text-align: center;\n        border-radius: 15px;\n        cursor: pointer;\n    }\n\n    .btn-bell-badge {\n        position: absolute;\n        right: 0;\n        top: -2px;\n        width: 8px;\n        height: 8px;\n        border-radius: 4px;\n        background: #f56c6c;\n        color: #fff;\n    }\n\n    .btn-bell .el-icon-bell {\n        color: #fff;\n    }\n\n    .user-name {\n        margin-left: 10px;\n    }\n\n    .user-avator {\n        margin-left: 20px;\n    }\n\n    .user-avator img {\n        display: block;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n    }\n\n    .el-dropdown-link {\n        color: #fff;\n        cursor: pointer;\n    }\n\n    .el-dropdown-menu__item {\n        text-align: center;\n    }\n\n\n    .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n    .avatar-uploader .el-upload:hover {\n        border-color: #f3c3cc;\n    }\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 178px;\n        height: 178px;\n        line-height: 178px;\n        text-align: center;\n    }\n    .avatar {\n        width: 100% !important;\n        height: 178px;\n        display: block;\n    }\n\n    .video-js .vjs-icon-placeholder {\n        width: 80%;\n        height: 80%;\n        display: block;\n    }\n\n    ::v-deep .el-upload--text{\n        width: 100px !important;\n        height: 100px !important;\n    }\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 100px;\n        height: 100px;\n        line-height: 100px;\n        text-align: center;\n    }\n    .avatar {\n        width: 100px !important;\n        height: 100px;\n        display: block;\n    }\n</style>\n"]}]}